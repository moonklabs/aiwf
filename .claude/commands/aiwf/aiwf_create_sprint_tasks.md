# 스프린트 태스크 생성 - 탑 다운 실행

통합된 구현 가이드와 함께 기존 스프린트에 대한 상세한 태스크를 생성합니다.

## 정확히 다음 8개 항목으로 TODO 생성

1. 대상 스프린트 식별 및 존재 확인
2. 스프린트 컨텍스트 및 관련 문서 로드
3. 기존 ADR 및 기술 가이드 확인
4. 태스크 분할을 위한 스프린트 결과물 분석
5. 구현 가이드와 함께 개별 태스크 파일 생성
6. 관련 태스크에 ADR 연결
7. 태스크 참조로 스프린트 메타 업데이트
8. 작업 품질 확인

단계별로 따라가며 각 단계에 대한 다음 지침을 엄격히 준수하세요.

## 모든 TODO 항목에 대한 세부사항

### 1. 대상 스프린트 식별 및 존재 확인

확인: <$ARGUMENTS>

**필수:** 스프린트 ID가 제공되어야 함 (예: S02). 비어있다면 사용자에게 상세화할 스프린트를 지정하도록 요청.

- `.aiwf/03_SPRINTS/`에 스프린트 디렉토리 존재 확인
- 스프린트 메타 파일 존재 확인 (예: `S02_sprint_meta.md`)
- 스프린트 상태가 이미 "completed"가 아닌지 확인
- 태스크가 이미 존재한다면, 사용자에게 재생성할지 또는 다른 가이드가 필요한지 문의

### 2. 스프린트 컨텍스트 및 관련 문서 로드

병렬 서브에이전트를 사용하여 프로젝트 컨텍스트를 읽고 이해:

- 프로젝트 컨텍스트를 위해 `.aiwf/00_PROJECT_MANIFEST.md` 읽기
- 목표와 결과물을 이해하기 위해 스프린트 메타 파일 완전히 읽기
- `.aiwf/02_REQUIREMENTS/`에서 상위 마일스톤 요구사항 읽기
- 기술적 컨텍스트를 위해 `.aiwf/01_PROJECT_DOCS/ARCHITECTURE.md` 읽기
- 아키텍처 결정을 이해하기 위해 `.aiwf/01_PROJECT_DOCS/LONG_TERM_VISION.md` 읽기

**중요:** 스프린트 태스크는 문서화된 스프린트 목표와 일치해야 하며, 범위를 확장하면 안 됨.

### 3. 기존 ADR 및 기술 가이드 확인

**병렬 서브에이전트 사용**하여 다음 명령 실행:

- 스프린트 ID와 일치하는 ADR을 위해 `.aiwf/05_ARCHITECTURE_DECISIONS/` 검색 (예: `ADR*_S02_*.md`)
- 기술적 결정을 이해하기 위해 발견된 모든 ADR 읽기
- ADR 참조 섹션에 대한 스프린트 메타 확인
- 태스크 구현에 영향을 줄 기술적 결정 주목
- 태스크와 서브태스크에서 관계 구축하고 구현할 내용을 명확히 하기

**범위에서 충돌**이 ADR과 스프린트 목표 사이에 있다면, 고민해보고 사용자에게 충돌 해결을 요청.

**ADR이 발견되지 않은 경우:** 진행하되 구현 중에 태스크가 명확화가 필요할 수 있음을 주목.

### 4. 태스크 분할을 위한 스프린트 결과물 분석

스프린트 목표와 결과물을 바탕으로 (병렬 서브에이전트에서 실행):

- 고수준 결과물을 구체적이고 구현 가능한 태스크로 분할
- 각 태스크가 일관된 기능이나 구성요소를 나타내도록 보장
- 태스크 간의 논리적 종속성 고려
- 기술 가이드를 위해 태스크를 관련 ADR에 매핑
- 서브태스크와 함께 태스크가 완전히 생성된 후까지 복잡성 평가 연기

### 5. 구현 가이드와 함께 개별 태스크 파일 생성

**이제** 식별된 각 태스크에 대해 다음 지침과 함께 병렬 서브에이전트를 시작:

    #### 각 태스크에 대한 TODO 생성

    1. 기본 태스크 구조 생성
    2. 코드베이스 인터페이스 조사
    3. 기술 가이드 추가
    4. 태스크 완전성 검증

    ### 1. 기본 태스크 구조 생성

    - 모든 태스크 파일은 스프린트 디렉토리(스프린트 메타 파일이 있는 곳)에 생성되어야 함
    - `T<NN>_S<NN>_<설명적_이름>.md` 명명으로 파일 생성
    - T01부터 시작하는 순차적 번호 사용
    - `.aiwf/99_TEMPLATES/task_template.md`의 태스크 템플릿 구조를 정확히 따름
    - 스프린트 목표에서 기본 설명과 목표 추가

    ### 2. 코드베이스 인터페이스 조사

    - 유사한 패턴과 인터페이스를 위해 기존 코드베이스 검토
    - 필요한 특정 클래스, 함수, 임포트 식별
    - 기존 모듈과의 통합 지점 찾기
    - 인터페이스할 데이터베이스 모델, API 엔드포인트 또는 서비스 주목
    - 기존 오류 처리 및 로깅 패턴 확인

    ### 3. 기술 가이드 추가

    태스크 파일에 다음 섹션 추가 (템플릿에 없으면 추가):

    **기술 가이드 섹션:**

    - 코드베이스의 주요 인터페이스 및 통합 지점
    - 특정 임포트 및 모듈 참조
    - 따라야 할 기존 패턴
    - 작업할 데이터베이스 모델 또는 API 계약
    - 유사한 코드에서 사용되는 오류 처리 접근법

    **구현 노트 섹션:**

    - 단계별 구현 접근법
    - 존중해야 할 주요 아키텍처 결정
    - 기존 테스트 패턴을 바탕으로 한 테스트 접근법
    - 관련된 경우 성능 고려사항

    **중요:** 코드 예제를 포함하지 마세요. 구조적 가이드와 참조만 제공.

    #### 4. 태스크 완전성 검증

    - 태스크가 명확한 구현 경로를 가지는지 확인
    - 모든 통합 지점이 문서화되었는지 확인
    - 가이드가 실제 코드베이스 요소를 참조하는지 확인
    - 태스크가 자체 완결적이고 실행 가능한지 확인

    **반복** `### 5. 구현 가이드와 함께 개별 태스크 파일 생성`을 모든 태스크에 대해

### 6. 관련 태스크에 ADR 연결

- 관련 ADR이 존재하는 경우
- 관련된 ADR 참조
- 각 ADR이 어떻게 적용되는지에 대한 설명을 기술 가이드 섹션에 추가
- 태스크가 구현에 영향을 주는 ADR만 참조하도록 보장

### 7. 태스크 참조로 스프린트 메타 업데이트

- 태스크 목록을 추가/업데이트하기 위해 스프린트 메타 파일 편집
- 논리적 그룹화 또는 종속성 순서로 태스크 구성
- 각 태스크에 대한 간단한 설명 추가

### 8. 작업 품질 확인

복잡성에 대해 생성된 모든 태스크를 검토하고 높은 복잡성 태스크를 분할:

**복잡성 평가 프로세스:**

- 설명, 목표, 수용 기준, 서브태스크를 포함하여 각 태스크 파일을 완전히 읽기
- 전체 범위와 도전에 대한 판단을 사용하여 복잡성 평가
- 파일 수나 예상 시간과 같은 단순한 지표를 기반으로 복잡성을 평가하지 마세요
- 개념적 어려움, 통합 도전, 미지수 고려
- 태스크 프론트매터에서 복잡성을 낮음, 보통, 높음으로 표시

**어떤 태스크든 높은 복잡성으로 표시된 경우:**

- 태스크를 낮음 또는 보통 복잡성의 2-3개 작은 태스크로 분할
- 적절한 순차적 번호로 새 태스크 파일 생성
- 원래 높은 복잡성 태스크 파일을 업데이트하거나 삭제
- 분할된 태스크들이 함께 원래 목표를 달성하도록 보장
- 논리적 그룹화와 종속성 유지

**모든 태스크가 완료된 후:**

- 모든 태스크가 낮음 또는 보통 복잡성만 있는지 확인
- 태스크 번호가 순차적인지 확인 (T01, T02, T03...)
- 최종 태스크 목록으로 스프린트 메타 파일 업데이트
- 실제로 생성된 태스크를 반영하도록 프로젝트 매니페스트 스프린트 섹션 업데이트
- 완료 보고서 생성

**출력 형식:**

    ```Markdown
    ## 스프린트 상세화 완료 - [YYYY-MM-DD HH:MM]

    **스프린트:** [스프린트 ID] - [스프린트 이름]
    **상태:** 계획 완료

    **생성된 태스크:** [분할 후 최종 개수]
    - 보통 복잡성: [개수]
    - 낮은 복잡성: [개수]

    **태스크 분할 요약:**
    - [원래 T03이 범위로 인해 T03과 T04로 분할됨]
    - [다른 분할 필요 없음]

    **최종 태스크 목록:**
    1. T01_S02 - [제목] (복잡성: [수준])
    2. T02_S02 - [제목] (복잡성: [수준])
    [모든 태스크에 대해 계속]

    **다음 단계:**
    - 완전성에 대한 태스크 검토
    - 구현을 시작하기 위해 `/do_task [스프린트의_첫_번째_태스크]` 실행
    ```