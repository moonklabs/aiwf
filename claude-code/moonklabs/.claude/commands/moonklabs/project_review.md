# 프로젝트 리뷰 - 탑 다운 실행

아키텍처, 진행 상황, 기술 결정에 초점을 맞춘 포괄적인 프로젝트 수준 리뷰를 수행합니다.

**중요:**

- 이것은 최근 변경사항이 아닌 전체 프로젝트 상태의 상위 수준 리뷰입니다.
- 프로젝트 문서에 명확히 언급되지 않는 한, 타임라인이 없고 일정은 관련이 없습니다

## 정확히 다음 9개 항목으로 TODO 생성

1. 리뷰 범위 및 타이밍 분석
2. 테스트 인프라 상태 실행 및 평가
3. 프로젝트 문서 정렬 평가
4. 마일스톤 및 스프린트 진행 상황 검토
5. 코드베이스 아키텍처 및 구조 분석
6. 파일 구성 및 워크플로우 준수 감사
7. 기술 결정 및 복잡성 평가
8. 구현 품질 비평 (John Carmack 관점)
9. 권장사항과 함께 포괄적인 평가 제공

각 단계에 대한 다음 지침을 단계별로 따르고 엄격히 준수하세요.

## 모든 TODO 항목의 세부사항

### 1. 리뷰 범위 및 타이밍 분석

확인: <$ARGUMENTS>

비어있으면 전체 프로젝트 리뷰를 수행합니다. 그렇지 않으면 <$ARGUMENTS>를 해석하여 특정 focus 영역(마일스톤, 스프린트, 아키텍처 구성요소 등)을 식별합니다. 인자에 명시되지 않는 한 `.moonklabs/10_STATE_OF_PROJECT`의 이전 프로젝트 리뷰와 비교하지 마세요.

**IMPORTANT:** 이 리뷰는 최근 변경사항의 맥락에서 전체 프로젝트 상태를 봅니다.

**CRITICAL:** 먼저 `.moonklabs/00_PROJECT_MANIFEST.md`를 읽어 다음을 이해하세요:

- 현재 마일스톤 및 스프린트 상태
- 완료 vs 진행 중 vs 계획된 작업
- 활성 스프린트 목표와 산출물

**컨텍스트 확인:** 기능을 평가하기 전에:

- 현재 스프린트를 찾기 위해 `.moonklabs/03_SPRINTS/`로 이동
- 범위 내 항목을 이해하기 위해 스프린트 메타 파일 읽기
- 스프린트 내에서 완료된 vs 계획된 태스크 확인
- 미래 스프린트가 제공할 내용 이해

**리뷰 원칙:** 전체 마일스톤 범위가 아닌 현재 스프린트 산출물에 대해 평가합니다.

### 2. 테스트 인프라 상태 실행 및 평가

**CRITICAL:** 테스트 인프라 상태는 스프린트/마일스톤 진행을 위한 BLOCKING 기준입니다.

- USE: 전체 테스트 스위트를 실행하기 위해 test.md 명령 사용 (@.claude/commands/moonklabs/test.md)
- ANALYZE: 테스트 결과 분석: pass/failed/skipped 수와 실패 카테고리
- CALCULATE: 테스트 건강 점수 계산 (0-10 척도):
  - 10: 100% 통과율, 인프라 문제 없음
  - 8-9: >95% 통과율, 사소한 문제만
  - 6-7: 80-95% 통과율, 일부 중요하지 않은 실패
  - 4-5: 60-80% 통과율, 중요한 문제
  - 0-3: <60% 통과율, 중요한 인프라 문제
- CATEGORIZE: 실패 분류:
  - 인프라: 임포트 오류, 누락된 모듈
  - 구성: 환경 변수, 데이터베이스 연결
  - 논리: 어설션 실패, 실제 버그
  - 불안정: 간헐적 실패
- DETERMINE: 차단 상태 결정:
  - 점수 < 6: BLOCKS 스프린트 진행 차단
  - 점수 < 8: BLOCKS 마일스톤 완료 차단
  - 점수 < 4: TRIGGER 긴급 에스컬레이션 트리거
- IDENTIFY: 인프라 실패의 근본 원인 식별
- TRACK: 이전 리뷰 대비 추세 추적 (개선/악화)
- ASSESS: 프로젝트 범위에 대한 테스트 전략 유효성 평가. 테스트는 실용적이어야 하고 기능을 보장하는 데 도움이 되어야 하지만 개발 진행을 너무 방해해서는 안 됨.

### 3. 프로젝트 문서 정렬 평가

**병렬 에이전트를 사용**하여 다음 단계 따르기:

- READ: 특히 ARCHITECTURE.md를 포함하여 `.moonklabs/01_PROJECT_DOCS/`의 모든 핵심 문서 읽기
- READ: `.moonklabs/02_REQUIREMENTS/`의 현재 마일스톤 요구사항 읽기
- READ: 다른 문서를 확장/모순할 수 있으므로 `.moonklabs/05_ARCHITECTURE_DECISIONS`의 아키텍처 결정 읽기
- IDENTIFY: 문서와 현재 구현 간의 격차 식별
- CHECK: 프로젝트가 여전히 문서화된 아키텍처 비전을 따르고 있는지 확인
- VERIFY: 현재 코드 구조가 문서화된 패턴과 일치하는지 확인

**IMPORTANT:** 문서는 우리의 진실의 원천입니다. 모든 편차는 정당화가 필요합니다.

### 4. 마일스톤 및 스프린트 진행 상황 검토

**병렬 에이전트를 사용**하여 다음 단계 따르기:

- READ: 현재 상태를 위해 `.moonklabs/00_PROJECT_MANIFEST.md` 읽기
- ANALYZE: `.moonklabs/03_SPRINTS/`에서 완료된 스프린트 분석
- COMPARE: 현재 스프린트 산출물(전체 마일스톤이 아님)에 대한 실제 진행 상황 비교
- DISTINGUISH: 스프린트 수준 태스크 vs 마일스톤 수준 기능 구분
- ASSESS: 현재 스프린트 focus가 마일스톤 목표와 일치하는지 평가

### 5. 코드베이스 아키텍처 및 구조 분석

**병렬 에이전트를 사용**하여 다음 단계 따르기:

- EXAMINE: 전체 프로젝트 구조와 조직 검토
- ANALYZE: 임포트 패턴과 의존성 관계 분석
- REVIEW: 일관성을 위한 데이터베이스 모델과 API 구조 검토
- CHECK: 아키텍처 패턴 확인: DDD, 클린 아키텍처 등을 따르고 있는가?
- IDENTIFY: 아키텍처 부채나 불일치 식별

**주요 관심 분야:**

- **디렉토리 구조** — 논리적 조직, 관심사 분리
- **의존성** — 과도한 엔지니어링인가? 불필요한 라이브러리를 사용하나요?
- **모델/스키마** — 일관성, 적절한 관계, 정규화
- **API** — RESTful 설계, 적절한 HTTP 메서드, 일관된 패턴
- **구성** — 환경 관리, 시크릿 처리

### 6. 파일 구성 및 워크플로우 준수 감사

**IMPORTANT:** 워크플로우 규율과 아키텍처 경계 위반을 확인합니다.

- **루트 디렉토리 감사** — 프로젝트 루트에 속하지 않는 파일 식별
- **개발 스크립트** — 모든 개발 스크립트가 `run_dev.py` 패턴을 따르는지 확인
- **테스트 파일 구성** — 테스트가 흩어져 있지 않고 `tests/` 디렉토리에 있는지 확인
- **문서 배치** — 문서가 적절한 위치에 있는지 확인
- **임시/실험 파일** — 임시적이거나 실험적으로 보이는 `.py` 파일 플래그

**적용할 파일 구성 규칙:**

- **개발 스크립트** — MUST : 독립 파일이 아닌 `run_dev.py`를 통해야 함
- **테스트 파일** — MUST : 적절한 명명(`test_*.py`)으로 `tests/` 디렉토리에 있어야 함
- **문서** — MUST : `docs/` 또는 `.moonklabs/01_PROJECT_DOCS/`에 있어야 함
- **구성** — MUST : 확립된 패턴을 따라야 함 (`.env.example`, `pyproject.toml`)
- **임시 파일** — SHOULD NOT : 커밋된 코드에 존재해서는 안 됨

**식별할 위험 신호:**

- 유사한 작업을 수행하는 여러 스크립트 (중복 기능)
- 루트 디렉토리의 무작위 `.py` 파일
- `tests/` 디렉토리 외부의 테스트 파일
- `run_dev.py`를 우회하는 개발 스크립트
- 불명확한 파일 목적이나 실험적 코드

**CRITICAL:** 파일 증식은 워크플로우 붕괴를 나타냅니다. 즉각적인 정리 태스크 생성을 위해 플래그.

### 7. 기술 결정 및 복잡성 평가

- ASSESS: 복잡성 vs. 비즈니스 가치 비율 평가
- REVIEW: 프레임워크, 라이브러리, 도구 선택 검토
- ANALYZE: 현재 패턴이 프로젝트 성장과 함께 확장될지 분석
- IDENTIFY: 간단한 문제를 과도하게 복잡하게 만드는 영역 식별
- CHECK: 조기 최적화나 과소 최적화 확인

**IMPORTANT:** 경험 많은 개발자처럼 생각하세요. 우리가 올바른 문제를 올바른 방법으로 해결하고 있습니까?

### 8. 구현 품질 비평 (John Carmack 관점)

John Carmack이 생각하는 것처럼 생각하세요: 단순성, 성능, 유지보수성에 집중하되 프로젝트 목표를 염두에 두세요. 특히 장기 비전도 염두에 두세요. 지나치게 단순화하지 마세요.

- **단순성:** 우리는 가장 간단한 방법으로 문제를 해결하고 있는가?
- **성능:** 눈에 띄는 성능 문제나 병목 현상이 있나요?
- **유지보수성:** 새로운 개발자가 6개월 안에 이 코드를 이해할 수 있을까?
- **견고성:** 시스템은 예외 상황과 장애를 어떻게 처리하는가?
- **기술 부채:** 나중에 우리에게 해를 끼칠 지름길은 무엇인가?

**잔인할 정도로 정직**하세요. Carmack 수준의 비판은 미화하지 않지만 여전히 프로젝트의 현실에 충실하다는 것을 의미합니다.
꼼꼼하고 분석에 있어 **한계를 뛰어넘으세요** - 한치의 오차도 허용하지 마세요.

### 9. 권장사항과 함께 포괄적인 평가 제공

**IMPORTANT:** 현재 타임스탬프를 가져오고 출력 파일을 만듭니다.

- 시스템 날짜 명령을 사용하여 현재 타임스탬프 가져오기
- 파일명 생성: `.moonklabs/10_STATE_OF_PROJECT/`에 `YYYY-MM-DD-HH-MM-<judgment-slug>.md`
- 판단 슬러그는 전체 프로젝트 건강을 설명하는 2-3 단어여야 함 (예: "견고한-진행", "집중-필요", "중요한-문제", "훌륭한-진행", "적절한-진행")

**IMPORTANT:** 다음 형식으로 타임스탬프가 찍힌 파일에 전체 보고서를 작성하세요:

```markdown
# 프로젝트 리뷰 - [YYYY-MM-DD HH:MM]

## 🎭 리뷰 감정

[이모지 3개만 - 설명 없음]

## 요약

- **결과:** EXCELLENT | GOOD | NEEDS_WORK | CRITICAL_ISSUES
- **범위:** 검토된 영역
- **전체 판단:** [파일명에 사용된 2-3단어 평가 사용]

## 테스트 인프라 평가

- **테스트 스위트 상태**: [PASSING/FAILING/BLOCKED] (X/Y 테스트)
- **테스트 통과율**: X% (Y 통과, Z 실패)
- **테스트 건강 점수**: X/10
- **인프라 건강**: [HEALTHY/DEGRADED/BROKEN]
  - 임포트 오류: [count]
  - 구성 오류: [count]
  - 픽스처 문제: [count]
- **테스트 카테고리**:
  - 단위 테스트: X/Y 통과
  - 통합 테스트: X/Y 통과
  - API 테스트: X/Y 통과
- **중요 문제**:
  - [차단 테스트 인프라 문제 목록]
  - [모듈 임포트 불일치]
  - [환경 구성 실패]
- **스프린트 커버리지**: [통과 테스트가 있는 스프린트 산출물의 %]
- **차단 상태**: [CLEAR/BLOCKED - reason]
- **권장사항**:
  - [즉각적인 수정이 필요]
  - [필요한 테스트 인프라 개선이 필요]

## 개발 컨텍스트

- **현재 마일스톤:** [매니페스트의 ID 및 상태]
- **현재 스프린트:** [ID 및 focus]
- **예상 완성도:** [이 단계에서 수행되어야 하는 것]

## 진행 상황 평가

- **마일스톤 진행률:** [완료율]
- **스프린트 상태:** [현재 스프린트 평가]
- **산출물 추적:** [완료된 것 vs 계획된 것]

## 아키텍처 & 기술 평가

- **아키텍처 점수:** 설명이 포함된 1~10점 평가
- **기술 부채 수준:** LOW | MEDIUM | HIGH (구체적인 예와 함께)
- **코드 품질:** [예제와 함께 전체 평가]

## 파일 구성 감사

- **워크플로우 준수:** GOOD | NEEDS_ATTENTION | CRITICAL_VIOLATIONS
- **파일 구성 문제:** [잘못 배치된 파일, 중복 스크립트 등 나열]
- **필요한 정리 작업:** [필요한 특정 파일 이동/삭제/통합]

## 중요 발견사항
### 중요 문제 (심각도 8-10)

[#### 제목으로 시작하는 반드시 수정해야 할 문제 목록, 빈 줄 하나 후 세부사항 목록]

### 개선 기회 (심각도 4-7)

[#### 제목으로 시작하는 권장 개선사항 목록, 빈 줄 하나 후 세부사항 목록]

## John Carmack 비평 🔥

[기술 결정에 대한 잔인할 정도로 정직한 상위 3개 관찰]

## 권장사항

발견사항을 기반으로 행동 항목 권장 - 발견사항에 맞는 것을 선택

- **중요 수정:** 즉시 수정해야 하는 것은?
- **선택적 수정/변경:** 선택사항이지만 여전히 권장되는 것은?
- **다음 스프린트 초점:** 사용자가 다음 스프린트로 이동할 수 있습니까?

```

**IMPORTANT:** 파일 경로와 줄 번호를 구체적으로 명시해 주세요. 이 리뷰는 실행 가능하며 영구 보관되어야 합니다.