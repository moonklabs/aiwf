# 캐시 시스템 상태 확인

현재 AIWF 템플릿 캐시 시스템의 상태와 저장된 템플릿들을 확인합니다.

## 정확히 다음 5개 항목으로 TODO 생성

1. 워크플로우 상태 사전 검증
2. 캐시 시스템 분석
3. 템플릿 인벤토리 조사
4. 캐시 성능 메트릭 수집
5. 상태 동기화 및 리포트 생성

---

## 1 · 워크플로우 상태 사전 검증

**병렬 서브에이전트**를 사용하여 다음 작업을 수행하세요:

- `aiwf state show` 명령어로 현재 워크플로우 상태 확인
- 진행 중인 작업이나 차단 요소 식별
- 캐시 상태 확인이 현재 워크플로우에 미치는 영향 평가
- 상태 불일치나 프로젝트 구조 문제 확인

**상태 검증 결과:**
- 현재 활성 태스크: [상태 명령어 결과]
- 프로젝트 구조 무결성: [검증 결과]
- 캐시 상태 확인 준비성: [준비 상태]

## 2 · 캐시 시스템 분석

**CLI 명령어 실행:**
```bash
aiwf cache status
```

**캐시 기본 정보 수집:**
- 캐시 디렉토리 위치: `~/.aiwf/cache`
- 캐시 총 크기 계산
- 마지막 업데이트 시간
- 캐시 설정 확인

## 3 · 템플릿 인벤토리 조사

**저장된 템플릿 분석:**
- AI 도구 템플릿 목록 및 버전
- 프로젝트 템플릿 목록 및 버전
- 손상된 또는 불완전한 템플릿 식별
- 최신 버전과의 비교

**템플릿 카테고리별 분석:**
- `ai-tools/`: Claude Code, Cursor, Windsurf 등
- `projects/`: API Server, NPM Library, Web App 등
- `utils/`: 유틸리티 모듈들
- `personas/`: AI 페르소나 정의들

## 4 · 캐시 성능 메트릭 수집

**성능 지표 계산:**
- 캐시 히트율 (사용 가능한 경우)
- 평균 다운로드 시간
- 네트워크 사용량 절약
- 오프라인 사용 가능 템플릿 수

**캐시 상태 분류:**
- 🟢 **최신**: 원격과 동일한 버전
- 🟡 **오래됨**: 업데이트 필요
- 🔴 **손상됨**: 재다운로드 필요
- ⚪ **누락**: 다운로드되지 않음

## 5 · 상태 동기화 및 리포트 생성

**캐시 상태 확인 후 상태 동기화:**

- `aiwf state update` 명령어로 워크플로우 상태 동기화
- 캐시 상태 정보 반영
- 프로젝트 구조 변경사항 업데이트

**상태 리포트 출력:**

```
🗂️  AIWF 캐시 시스템 상태

📍 캐시 위치: ~/.aiwf/cache
💾 총 크기: {총 크기}
📅 마지막 업데이트: {날짜}

📦 저장된 템플릿:
┌─────────────────┬──────────┬─────────┬─────────┐
│ 템플릿          │ 버전     │ 크기    │ 상태    │
├─────────────────┼──────────┼─────────┼─────────┤
│ claude-code     │ v1.2.3   │ 2.1MB   │ 🟢 최신 │
│ cursor          │ v1.0.1   │ 1.8MB   │ 🟡 오래됨│
│ api-server      │ v2.1.0   │ 5.4MB   │ 🟢 최신 │
│ web-app         │ v1.5.2   │ 8.9MB   │ 🟢 최신 │
└─────────────────┴──────────┴─────────┴─────────┘

📊 요약:
- AI 도구 템플릿: {수}개
- 프로젝트 템플릿: {수}개
- 유틸리티 모듈: {수}개
- 페르소나 정의: {수}개

⚡ 권장 조치:
- 🟡 오래된 템플릿 업데이트: aiwf cache update
- 🔴 손상된 템플릿 재다운로드: aiwf cache download --repair
- 💿 디스크 정리: aiwf cache clean --max-age 30

🔄 상태 동기화: 완료
```

**문제 해결 제안:**
- 오래된 템플릿이 있는 경우 업데이트 명령 제안
- 손상된 파일이 있는 경우 재다운로드 명령 제안
- 디스크 공간이 부족한 경우 정리 명령 제안