# 템플릿 캐시 다운로드

오프라인 사용을 위해 AIWF 템플릿들을 로컬 캐시에 다운로드합니다.

## 정확히 다음 6개 항목으로 TODO 생성

1. 워크플로우 상태 사전 검증
2. 캐시 시스템 초기화
3. 다운로드 옵션 분석
4. 템플릿 다운로드 실행
5. 캐시 검증
6. 상태 동기화 및 결과 보고

---

## 1 · 워크플로우 상태 사전 검증

**병렬 서브에이전트**를 사용하여 다음 작업을 수행하세요:

- `aiwf state show` 명령어로 현재 워크플로우 상태 확인
- 진행 중인 작업이나 차단 요소 식별
- 캐시 다운로드가 현재 워크플로우에 미치는 영향 평가
- 상태 불일치나 프로젝트 구조 문제 확인

**상태 검증 결과:**
- 현재 활성 태스크: [상태 명령어 결과]
- 프로젝트 구조 무결성: [검증 결과]
- 캐시 다운로드 준비성: [준비 상태]

## 2 · 캐시 시스템 초기화

**캐시 디렉토리 및 설정 확인:**
- `~/.aiwf/cache` 디렉토리 존재 여부 확인
- 캐시 설정 파일 로드
- 네트워크 연결 상태 확인
- 디스크 공간 확인

## 3 · 다운로드 옵션 분석

**인수 분석**: <$ARGUMENTS>

**사용 가능한 옵션:**
- `--all`: 모든 템플릿 다운로드
- `--type ai-tools`: AI 도구 템플릿만 다운로드
- `--type projects`: 프로젝트 템플릿만 다운로드
- 특정 템플릿 이름 지정

## 4 · 템플릿 다운로드 실행

**CLI 명령어 실행:**
```bash
aiwf cache download [옵션]
```

**다운로드 프로세스:**
- 원격 템플릿 목록 조회
- 로컬 캐시와 비교
- 필요한 템플릿들 다운로드
- 진행 상황 표시

## 5 · 캐시 검증

**다운로드 결과 검증:**
- 다운로드된 템플릿 파일 무결성 확인
- 캐시 인덱스 업데이트
- 오류 또는 누락된 파일 확인

## 6 · 상태 동기화 및 결과 보고

**캐시 다운로드 후 상태 동기화:**

- `aiwf state update` 명령어로 워크플로우 상태 동기화
- 캐시 상태 변경사항 반영
- 프로젝트 구조 변경사항 업데이트

**결과 보고:**

✅ **캐시 다운로드 완료**
📦 **다운로드된 템플릿**: {템플릿 수}개
💾 **캐시 크기**: {총 크기}
🔄 **상태 동기화**: 완료

**사용 예시:**
```bash
# 모든 템플릿 다운로드
aiwf cache download --all

# AI 도구 템플릿만 다운로드
aiwf cache download --type ai-tools

# 특정 템플릿 다운로드
aiwf cache download claude-code
```