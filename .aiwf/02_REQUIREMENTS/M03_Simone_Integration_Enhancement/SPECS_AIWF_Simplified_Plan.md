# AIWF 단순화 계획: 신뢰할 수 있는 단순함

**생성일**: 2025-07-16 17:20:00  
**버전**: v0.3.1 → v0.4.0  
**기간**: 3주 계획  
**기반**: steig/claude-simone 분석 + 오버엔지니어링 제거  

## 📋 프로젝트 개요

### 현재 상태
- **AIWF v0.3.1**: 마크다운 기반 프로젝트 관리 프레임워크
- **완료된 기능**: Feature Ledger, AI 페르소나, Context 압축, AI 도구 통합
- **핵심 문제**: LLM 실수로 인한 태스크 상태 불일치, 복잡한 CLI 인터페이스

### 목표 상태
- **AIWF v0.4.0**: 신뢰할 수 있는 단순한 태스크 관리 시스템
- **핵심 가치**: 단순함, 신뢰성, 사용 편의성
- **경쟁력**: 파일 기반 + 무결성 보장

---

## 🎯 핵심 문제 해결

### 1. 태스크 상태 불일치 문제
**현재 문제**:
```
- 진행중/완료/대기 태스크 수 불일치
- LLM이 파일 업데이트 시 실수
- 수동으로 매번 확인 필요
- 일관성 없는 상태 관리
```

**해결 방안**:
- JSON 기반 태스크 인덱스 (`task-index.json`)
- 무결성 검사 도구 (`aiwf check`)
- 안전한 상태 변경 (`aiwf task done TX001`)

### 2. 복잡한 CLI 인터페이스
**현재 문제**:
```bash
# 너무 복잡한 경로
node claude-code/aiwf/ko/commands/ai-persona.js activate backend
```

**해결 방안**:
```bash
# 간단한 명령어
aiwf persona activate backend
aiwf status
aiwf task done TX001
```

---

## 🚀 3주 개발 계획

### Week 1: 프로젝트 정리 및 기초 구축
#### Day 1-2: 프로젝트 구조 정리
- [x] 백업 파일 및 중복 파일 제거
- [x] 언어별 중복 구조 분석
- [ ] 큰 파일 모듈화 (index.js 1,950줄 → 모듈별 분리)

#### Day 3-4: 태스크 인덱스 시스템 설계
- [ ] JSON 기반 태스크 인덱스 구조 설계
- [ ] 파일 스캔 및 상태 추출 로직 구현
- [ ] 무결성 검사 알고리즘 구현

#### Day 5-7: CLI 실행 파일 기본 구현
- [ ] `bin/aiwf` 실행 파일 생성
- [ ] 기본 명령어 매핑 (`status`, `help`, `version`)
- [ ] 프로젝트 루트 자동 탐지

### Week 2: 핵심 기능 구현
#### Day 8-10: 태스크 무결성 시스템
- [ ] 태스크 상태 추출 및 인덱싱
- [ ] 불일치 감지 및 리포팅
- [ ] 자동 수정 제안 시스템

#### Day 11-12: 안전한 상태 변경
- [ ] `aiwf task done/start/block` 명령어
- [ ] 원자적 파일 업데이트
- [ ] 롤백 메커니즘

#### Day 13-14: 기본 AI 도우미
- [ ] `aiwf research` - 프로젝트 내 검색
- [ ] `aiwf plan` - 간단한 계획 도움
- [ ] 페르소나 기반 응답

### Week 3: 통합 및 완성
#### Day 15-17: 향상된 사용자 경험
- [ ] 컬러풀한 출력 및 진행 표시
- [ ] 에러 메시지 개선
- [ ] 자동완성 지원

#### Day 18-19: 테스트 및 문서화
- [ ] 통합 테스트 작성
- [ ] 사용자 가이드 업데이트
- [ ] 성능 벤치마크

#### Day 20-21: 릴리즈 준비
- [ ] 버전 0.4.0 패키징
- [ ] 호환성 테스트
- [ ] 릴리즈 노트 작성

---

## 📊 기술 명세

### 태스크 인덱스 구조
```json
{
  "lastUpdated": "2025-07-16T17:20:00Z",
  "summary": {
    "total": 45,
    "pending": 12,
    "in_progress": 3,
    "completed": 30
  },
  "tasks": {
    "TX001": {
      "file": "04_GENERAL_TASKS/TX001_api_optimization.md",
      "title": "API 최적화",
      "status": "completed",
      "priority": "high",
      "updated": "2025-07-15T10:30:00Z"
    }
  }
}
```

### CLI 명령어 구조
```bash
# 핵심 명령어
aiwf status                    # 프로젝트 상태 표시
aiwf check                     # 무결성 검사
aiwf fix                       # 자동 수정
aiwf task done TX001          # 태스크 완료
aiwf task start TX002         # 태스크 시작
aiwf research "API 최적화"     # 프로젝트 내 검색
aiwf plan "인증 시스템"        # 계획 도움
```

### 파일 구조 (모듈화)
```
lib/
├── installer.js              # 설치 관련 로직
├── language-detector.js      # 언어 감지
├── template-manager.js       # 템플릿 관리
├── task-index.js             # 태스크 인덱싱
├── integrity-checker.js      # 무결성 검사
└── ai-helper.js              # AI 도우미
```

---

## ❌ 제거된 오버엔지니어링 항목들

### 제거된 복잡한 기능들
- ~~SQLite 데이터베이스~~ → JSON 인덱스
- ~~MCP 서버 통합~~ → 제거
- ~~고급 웹 대시보드~~ → 터미널 출력
- ~~병렬 처리 시스템~~ → 제거
- ~~지능형 자동화~~ → 제거
- ~~다층 캐싱 시스템~~ → 간단한 메모리 캐시

### 제거 이유
1. **복잡성 증가**: 유지보수 비용 증가
2. **사용 빈도 낮음**: 실제 사용하지 않을 기능들
3. **핵심 문제 해결과 거리멀음**: 태스크 상태 불일치 해결이 우선
4. **단순함 추구**: 신뢰할 수 있는 단순함이 목표

---

## 🎯 성공 지표

### 기능성 지표
- [ ] 태스크 상태 불일치 0% 달성
- [ ] CLI 명령어 타이핑 50% 감소
- [ ] 무결성 검사 시간 < 1초

### 사용성 지표
- [ ] 새 사용자 10분 내 기본 사용 가능
- [ ] 에러 메시지 이해도 90% 이상
- [ ] 문서 없이도 직관적 사용 가능

### 신뢰성 지표
- [ ] 파일 손상 없는 상태 변경
- [ ] 롤백 성공률 100%
- [ ] 동시 수정 충돌 방지

---

## 🔧 다음 액션 아이템

### 이번 주 (Week 1)
1. **index.js 모듈화**
   ```bash
   mkdir -p lib
   # 1,950줄 파일을 기능별로 분리
   ```

2. **태스크 인덱스 프로토타입**
   ```bash
   # .aiwf/state/task-index.json 생성
   # 기본 스캔 로직 구현
   ```

3. **CLI 실행 파일 기본 구조**
   ```bash
   mkdir -p bin
   touch bin/aiwf
   chmod +x bin/aiwf
   ```

### 핵심 원칙
- **파일이 진실의 원천**: 인덱스는 캐시일 뿐
- **언제든 재생성 가능**: 데이터 손실 방지
- **수동 편집 항상 가능**: 복잡한 GUI 없이
- **Git으로 모든 변경 추적**: 투명성 보장

이 계획은 **신뢰할 수 있는 단순함**을 추구하며, 실제 사용자가 겪는 핵심 문제를 해결하는 데 집중합니다.